(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{105:function(e,t,a){"use strict";var n=a(0),c=a.n(n),o=a(274),r=a(288),l=a(8),i=a.n(l),m=function(){return c.a.createElement("div",{className:i.a["lds-ripple"]},c.a.createElement("div",null),c.a.createElement("div",null))},s=function(e){var t=e.logo,a=e.name,n=e.link,r=e.history,l=e.exchange,s=e.symbol,u=e.favorite,h=e.onFav,p=c.a.createElement("h6",null,a);return n&&(p=c.a.createElement(o.a,{to:"/company?cmp=".concat(e.symbol),style:{cursor:"pointer"}},a,a?c.a.createElement("i",{className:"material-icons",style:{color:"gray",marginLeft:10}},"info"):null)),c.a.createElement("div",{className:i.a["title-bar"]},c.a.createElement("div",{style:{display:"flex"}},t?c.a.createElement("img",{src:t,height:56,alt:"".concat(a,"'s logo"),style:{maxWidth:"100px"}}):c.a.createElement(m,null),c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex"}},p,a?c.a.createElement("button",{onClick:function(e){return h(e,s)},type:"button",className:i.a["favorite-button"]},u?c.a.createElement("i",{className:"material-icons",style:{color:"red"}},"favorite"):c.a.createElement("i",{className:"material-icons"},"favorite_border")):null),c.a.createElement("span",null,s?"".concat(l,": ").concat(s):null))),c.a.createElement("button",{onClick:function(){n?r.push("/market"):r.goBack()},type:"button",className:i.a["back-button"]},c.a.createElement("i",{className:"material-icons md-48"},"arrow_back")))};s.defaultProps={link:!1};t.a=Object(r.a)(s)},147:function(e,t,a){e.exports={container:"StockPage_container__1Cm2l","spinner-container":"StockPage_spinner-container__uO_1o","charttime-container":"StockPage_charttime-container__11Ckt","charttime-button":"StockPage_charttime-button__3iRCK","charttime-button-active":"StockPage_charttime-button-active__1ViLm","book-info":"StockPage_book-info__3jJzi",relevant:"StockPage_relevant__FY3PQ","relevant-inner":"StockPage_relevant-inner__2cTpH","relavent-item":"StockPage_relavent-item__7VFgl","relavent-item-row":"StockPage_relavent-item-row__2I31r","relavent-item-title":"StockPage_relavent-item-title__13iMi","relavent-item-info":"StockPage_relavent-item-info__24c28","title-bar":"StockPage_title-bar__3v5kB"}},282:function(e,t,a){"use strict";a.r(t);var n=a(269),c=a(9),o=a(10),r=a(12),l=a(11),i=a(13),m=a(0),s=a.n(m),u=a(151),h=a.n(u),p=a(105),v=a(279),f=a(286),g=a(283),d=a(277),k=function(e){var t=e.data,a=window.innerWidth<620?350:500;return s.a.createElement("svg",{role:"img",style:{position:"static",pointerEvents:"none",width:"100%",height:"100%"},viewBox:"0 0 ".concat(a," ").concat(250)},s.a.createElement(v.a,{height:250,width:a,theme:f.a.material,standalone:!1,style:{parent:{position:"static"}},domainPadding:{y:[20,20]},padding:{top:10,right:40,bottom:30,left:50}},s.a.createElement(g.a,{tickValues:[1,2,3,4],tickFormat:function(e){return"".concat(e)},fixLabelOverlap:!0,style:{axis:{stroke:"#344955"},tickLabels:{fill:"#344955"}}}),s.a.createElement(g.a,{dependentAxis:!0,tickFormat:function(e){return"".concat(e)},style:{axis:{stroke:"#344955"},tickLabels:{fill:"#344955"}}}),s.a.createElement(d.a,{data:t,x:"label",y:"close",style:{data:{stroke:"#344955"},labels:{display:"none"}}})))},y=a(19),b=a(274),E=a(147),_=a.n(E),w=function(e){var t=e.name,a=e.change,n=e.symbol,c=e.close,o=e.onSelect,r=t,l="".concat(a>0?"+":"").concat((100*a).toFixed(2),"%");return r.length>14&&(r="".concat(r.slice(0,12),"...")),s.a.createElement("div",{className:_.a["relavent-item"],key:n},s.a.createElement("div",{className:"".concat(_.a["relavent-item-row"]," ").concat(_.a["relavent-item-title"])},s.a.createElement("h6",{title:"."===r[r.length-2]?t:null},r),s.a.createElement("span",null,n)),s.a.createElement("div",{className:"".concat(_.a["relavent-item-row"]," ").concat(_.a["relavent-item-info"])},s.a.createElement("span",null,c),s.a.createElement("span",{style:{color:a>0?"green":"red"}},l),s.a.createElement(b.a,{to:"/stock?cmp=".concat(n),onDragStart:function(e){return e.preventDefault()},onClick:function(){return o(n)}},"More...")))},S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var o=arguments.length,i=new Array(o),m=0;m<o;m++)i[m]=arguments[m];return(a=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={book:{symbol:"",companyName:"",primaryExchange:""},chart:[],chartTime:0,relevant:[],logo:""},a.onRelevantSelect=function(e){a.setState({chart:[],book:{symbol:"",companyName:"",primaryExchange:""},relevant:[],logo:""}),window.scrollTo(0,0),a.updateChart(e),a.updateBook(e)},a.updateBook=function(e){fetch("https://api.iextrading.com/1.0/stock/".concat(e,"/batch?types=quote,relevant,logo")).then(function(e){return e.json()}).then(function(e){fetch("https://api.iextrading.com/1.0/stock/market/batch?types=quote&symbols=".concat(e.relevant.symbols.join(","),"&filter=companyName,symbol,changePercent,close")).then(function(e){return e.json()}).then(function(t){var c=[];Object.keys(t).forEach(function(e){var a=Object(n.a)({},t[e].quote);a.symbol=e,c.push(a)}),a.setState({book:e.quote,relevant:c,logo:e.logo.url})}).catch(function(){})}).catch(function(){})},a.updateChart=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m";fetch("https://api.iextrading.com/1.0/stock/".concat(e,"/chart/").concat(t,"?filter=date,close,label")).then(function(e){return e.json()}).then(function(e){var n=["1m","3m","6m","1y","2y"].indexOf(t);a.setState({chart:e,chartTime:n})}).catch(function(){})},a.onSelectCharttime=function(e){var t=a.state.book;a.setState({chart:[]}),a.updateChart(t.symbol,e)},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=new URLSearchParams(e.search.slice(1)).get("cmp");this.updateBook(t),this.updateChart(t)}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.chart,c=a.logo,o=a.book,r=a.chartTime,l=a.relevant,i=this.props,m=i.favorites,u=i.onFavorite,v=i.currency,f=i.currencyFormat,g=["1m","3m","6m","1y","2y"].map(function(e,a){return s.a.createElement("button",{type:"button",className:"".concat(_.a["charttime-button"]," ").concat(r===a?_.a["charttime-button-active"]:null),onClick:function(){return t.onSelectCharttime(e)},key:e},e)}),d=null;if(Object.keys(o).length>1){var b={close:(e=o).close,latestPrice:e.latestPrice,changePercent:e.changePercent,change:e.change,high:e.high,week52High:e.week52High,low:e.low,week52Low:e.week52Low,marketCap:e.marketCap,peRatio:e.peRatio};d=Object.keys(b).map(function(e){var t=e.replace(/([A-Z])/g," $1"),a=t.charAt(0).toUpperCase()+t.slice(1),n="changePercent"===e?"".concat(b[e]>0?"+":"").concat((100*b[e]).toFixed(2),"%"):"".concat(f(b[e]||0)," ").concat(v);return s.a.createElement(s.a.Fragment,{key:e},s.a.createElement("span",null,"".concat(a,":")),s.a.createElement("span",null,n))})}var E=s.a.createElement("div",{className:_.a["spinner-container"]},s.a.createElement(y.a,null));return n.length>0&&(E=s.a.createElement("div",null,s.a.createElement("div",{className:_.a["charttime-container"]},g),s.a.createElement(k,{data:n}),s.a.createElement("div",{className:_.a["book-info"]},d))),s.a.createElement("div",{className:_.a.container},s.a.createElement(p.a,{logo:c,name:o.companyName,exchange:o.primaryExchange,symbol:o.symbol,favorite:m.includes(o.symbol),onFav:u,link:!0}),s.a.createElement("hr",null),E,s.a.createElement("hr",null),s.a.createElement("div",null,o.sector?s.a.createElement("p",null,"Sector: ".concat(o.sector)):s.a.createElement("p",null,"Relevant:"),s.a.createElement("div",{className:_.a.relevant},s.a.createElement(h.a,{axis:"x",defaultPosition:{x:0,y:0},bounds:{left:-220*(l.length-3.48),right:0}},s.a.createElement("div",{className:_.a["relevant-inner"]},l.map(function(e){return s.a.createElement(w,{name:e.companyName,symbol:e.symbol,close:f(e.close),change:e.changePercent,onSelect:t.onRelevantSelect,key:"rel-".concat(e.symbol)})}))))))}}]),t}(m.Component);t.default=S}}]);
//# sourceMappingURL=2.645dccc4.chunk.js.map