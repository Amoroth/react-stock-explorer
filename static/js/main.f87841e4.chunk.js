(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(8),o=n.n(c);t.a=function(){return r.a.createElement("div",{className:o.a.loader},"Loading...")}},25:function(e,t,n){e.exports=n(42)},30:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),s=n(281),i=(n(30),n(24)),l=n(9),u=n(10),h=n(12),m=n(11),d=n(13),p=n(287),b=n(275),f=n(284),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;return n=Math.abs(n)/1e9>1?"".concat((Math.abs(n)/1e9).toFixed(2)," ").concat(t?"bln":"mld"):Math.abs(n)/1e6>1?"".concat((Math.abs(n)/1e6).toFixed(2)," mln"):n.toFixed(2)},v=n(274),y=n(288),k=n(21),E=n.n(k),x=(n(33),n(22)),g=n(8),C=n.n(g),S=function(){return r.a.createElement("div",{className:C.a.overlay})},w=n(6),F=n.n(w),j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState({input:e.target.value})},n.onClickFill=function(e){n.setState({input:e})},n.showSearchResults=function(){n.setState({searchResults:!0})},n.hideSearchResults=function(){setTimeout(function(){n.setState({searchResults:!1,searchBoxInput:window.innerWidth>800})},100)},n.showSearchBoxInput=function(){n.setState({searchBoxInput:!0},function(){n.inputRef.current.focus()})},n.onKeyPressHandler=function(e,t){var a=n.state.inputCursor,r=n.props.history;a>Math.min(3,t.length-1)&&n.setState({inputCursor:Math.min(3,t.length-1)}),38===e.keyCode&&a>0?n.setState(function(e){return{inputCursor:(e.inputCursor||0)-1}}):40===e.keyCode&&a<Math.min(3,t.length-1)?n.setState(function(e){return{inputCursor:null===e.inputCursor?0:e.inputCursor+1}}):13===e.keyCode&&(n.inputRef.current.blur(),n.onClickFill(t[a].name),r.push("stock?cmp=".concat(t[a].symbol)))},n.state={input:"",symbols:[],searchResults:!1,searchBoxInput:window.innerWidth>800,inputCursor:null},n.inputRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.iextrading.com/1.0/ref-data/symbols?filter=symbol,name").then(function(e){return e.json()}).then(function(t){e.setState({symbols:t})}).catch(function(){})}},{key:"render",value:function(){var e=this,t=this.state,n=t.symbols,a=t.input,c=t.inputCursor,o=t.searchBoxInput,s=t.searchResults,i=n.filter(Object(x.createFilter)(a,["name","symbol"]));return r.a.createElement("div",{style:{display:"inline"}},o?r.a.createElement("input",{className:F.a["search-box"],onChange:this.handleChange,value:a,onFocus:this.showSearchResults,onBlur:this.hideSearchResults,onKeyUp:function(t){return e.onKeyPressHandler(t,i)},ref:this.inputRef}):r.a.createElement("button",{onClick:this.showSearchBoxInput,className:F.a["search-box-icon"],type:"button"},r.a.createElement("i",{className:"material-icons"},"search")),r.a.createElement("div",{className:F.a["search-box-results"]},s?i.slice(0,4).map(function(t,n){return r.a.createElement(v.a,{className:"".concat(F.a["search-box-result"]," ").concat(c===n?F.a["search-box-result-active"]:null),key:t.symbol,onClick:function(){return e.onClickFill(t.name)},to:"stock?cmp=".concat(t.symbol)},t.name,r.a.createElement("span",null,t.symbol))}):null),s&&window.innerWidth<800?r.a.createElement(S,null):null)}}]),t}(a.PureComponent),O=Object(y.a)(j),R=Object(y.a)(function(e){var t=e.location,n=e.history,a=e.currencyChange,c=e.currency,o=r.a.createElement("h6",{className:F.a.brand},"SE!");"/market"!==t.pathname&&(o=r.a.createElement("button",{className:F.a["expand-button"],onClick:function(){"/company"===t.pathname?n.goBack():n.push("/market")},type:"button"},r.a.createElement("i",{className:"material-icons"},"arrow_back")));return r.a.createElement("nav",{className:F.a.container},r.a.createElement("div",{className:F.a["brand-container"]},window.innerWidth>800?r.a.createElement(v.a,{to:"/market",className:F.a.brand},"Stock Explorer!"):o),r.a.createElement("div",{className:F.a["nav-links"]},r.a.createElement(O,null),r.a.createElement(E.a,{options:["USD","EUR","PLN","GBP","CHF"],onChange:function(e){return a(e.value)},value:c,className:F.a.dropdown,controlClassName:F.a["dropdown-control"]})))}),N=n(19),H=Object(a.lazy)(function(){return n.e(1).then(n.bind(null,285))}),M=Object(a.lazy)(function(){return Promise.all([n.e(4),n.e(2)]).then(n.bind(null,282))}),I=Object(a.lazy)(function(){return n.e(3).then(n.bind(null,276))}),B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={favorites:[],currency:"USD",currencyRates:{}},n.onFavorite=function(e,t){e.stopPropagation();var a=n.state.favorites;if(a.includes(t)){var r=a.filter(function(e){return e!==t});n.setState({favorites:r},function(){return localStorage.setItem("stock-explorer_favorites",r)})}else{var c=Object(i.a)(a).concat([t]);n.setState({favorites:c},function(){return localStorage.setItem("stock-explorer_favorites",c)})}},n.getExchangeRates=function(){var e=n.state.currencyRates;Object.keys(e).length>1||fetch("https://api.exchangeratesapi.io/latest?base=USD&symbols=EUR,PLN,GBP,CHF").then(function(e){return e.json()}).then(function(e){var t=Object.assign({},e.rates);t.USD=1,n.setState({currencyRates:t})}).catch(function(){})},n.currencyFormat=function(e){var t=n.state,a=t.currency,r=t.currencyRates,c=e;return"USD"!==a&&(c=e*r[a]),_(c)},n.onCurrencyChange=function(e){n.setState({currency:e},function(){return localStorage.setItem("stock-explorer_currency",e)})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("stock-explorer_favorites"),t=localStorage.getItem("stock-explorer_currency");this.setState({favorites:e?e.split(","):[],currency:t||"USD"}),this.getExchangeRates()}},{key:"render",value:function(){var e=this,t=this.state,n=t.favorites,c=t.currency,o=r.a.createElement(p.a,null,r.a.createElement(b.a,{path:"/",exact:!0,render:function(){return r.a.createElement(f.a,{to:"/market"})}}),r.a.createElement(b.a,{path:"/market",exact:!0,render:function(t){return r.a.createElement(H,Object.assign({},t,{favorites:n,onFavorite:e.onFavorite,currency:c,currencyFormat:e.currencyFormat}))}}),r.a.createElement(b.a,{path:"/stock",exact:!0,render:function(t){return r.a.createElement(M,Object.assign({},t,{favorites:n,onFavorite:e.onFavorite,currency:c,currencyFormat:e.currencyFormat}))}}),r.a.createElement(b.a,{path:"/company",exact:!0,render:function(t){return r.a.createElement(I,Object.assign({},t,{favorites:n,onFavorite:e.onFavorite,currency:c,currencyFormat:e.currencyFormat}))}}),r.a.createElement(b.a,{render:function(){return r.a.createElement("h1",null,"404")}}));return r.a.createElement("div",{className:"App"},r.a.createElement(R,{currencyChange:this.onCurrencyChange,currency:c}),r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{className:"loading-page"},r.a.createElement(N.a,null))},o))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=r.a.createElement(s.a,{basename:"/react-stock-explorer"},r.a.createElement(B,null));o.a.render(U,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,n){e.exports={container:"Header_container__2Fjen","brand-container":"Header_brand-container__q6KUE",brand:"Header_brand__1fPML","nav-links":"Header_nav-links__3Md16","nav-link":"Header_nav-link__2G8Ug","nav-link-active":"Header_nav-link-active__1WDX1","expand-button":"Header_expand-button__1X2Zf","search-box":"Header_search-box__2HqF4","search-box-icon":"Header_search-box-icon__AlMSK","search-box-results":"Header_search-box-results__RGcU8","search-box-result":"Header_search-box-result__2XNq8","search-box-result-active":"Header_search-box-result-active__3i_QG",dropdown:"Header_dropdown__bFF-u","dropdown-control":"Header_dropdown-control__2XYcL","desktop-only":"Header_desktop-only__nrji4"}},8:function(e,t,n){e.exports={loader:"shared_loader__1poaP",load1:"shared_load1__1kOIJ","lds-ripple":"shared_lds-ripple__3MVuC",overlay:"shared_overlay__oCgpW","title-bar":"shared_title-bar__1ciEb","back-button":"shared_back-button__3Q8QV","favorite-button":"shared_favorite-button__1Lfyc","circular-button":"shared_circular-button__D8JOT","book-info":"shared_book-info__3qTM3"}}},[[25,6,5]]]);
//# sourceMappingURL=main.f87841e4.chunk.js.map